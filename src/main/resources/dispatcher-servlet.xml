<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns:context="http://www.springframework.org/schema/context"       xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:aop="http://www.springframework.org/schema/aop"       xsi:schemaLocation="http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans-4.2.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context-4.2.xsd        http://www.springframework.org/schema/mvc        http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">    <!-- aop -->    <bean id="annotionAopDemoUserLog" class="com.meihaifeng.service.aspect.AnnotionAopDemoUserLog" />    <bean id="xmlAopDemoUserLog" class="com.meihaifeng.service.aspect.XmlAopDemoUserLog" />    <context:annotation-config />    <!-- 自动扫描 -->    <context:component-scan base-package="com.meihaifeng.service"/>    <!-- 注解的aop配置 -->    <aop:aspectj-autoproxy proxy-target-class="true"/>    <mvc:annotation-driven>        <mvc:message-converters register-defaults="true">            <ref bean="stringHttpMessageConverter" />            <ref bean="fastJsonHttpMessageConverter" />        </mvc:message-converters>    </mvc:annotation-driven>    <bean id="stringHttpMessageConverter"          class="org.springframework.http.converter.StringHttpMessageConverter">        <constructor-arg value="UTF-8" index="0"></constructor-arg>        <property name="supportedMediaTypes">            <list>                <value>text/plain;charset=UTF-8</value>            </list>        </property>    </bean>    <bean id="fastJsonHttpMessageConverter" class="com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter4">        <property name="supportedMediaTypes">            <list>                <value>text/html;charset=UTF-8</value>                <value>application/json;charset=UTF-8</value>            </list>        </property>        <property name="fastJsonConfig">            <bean class="com.alibaba.fastjson.support.config.FastJsonConfig">                <property name="features">                    <list>                        <value>AllowArbitraryCommas</value>                        <value>AllowUnQuotedFieldNames</value>                        <value>DisableCircularReferenceDetect</value>                    </list>                </property>                <property name="dateFormat" value="yyyy-MM-dd HH:mm:ss"></property>            </bean>        </property>    </bean>     <!--xml的aop配置-->    <aop:config>        <!-- 定义切面-->        <aop:aspect ref="xmlAopDemoUserLog">            <!-- 定义切点-->            <aop:pointcut id="logpoint" expression="execution(* com.meihaifeng.web.AopController.getUserLog(..))"></aop:pointcut>            <aop:before method="beforeLog" pointcut-ref="logpoint"></aop:before>            <aop:after method="afterLog" pointcut-ref="logpoint"></aop:after>            <aop:after-returning method="afterReturningLog" pointcut-ref="logpoint"></aop:after-returning>            <aop:after-throwing method="afterThrowingLog" pointcut-ref="logpoint"></aop:after-throwing>            <aop:around method="aroundLog" pointcut-ref="logpoint"></aop:around>        </aop:aspect>    </aop:config>    <!-- configure the InternalResourceViewResolver -->    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"          id="internalResourceViewResolver">        <!-- 前缀 -->        <property name="prefix" value="/WEB-INF/jsp/" />        <!-- 后缀 -->        <property name="suffix" value=".jsp" />    </bean>    <!-- 上传文件拦截，设置最大上传文件大小 10M=10*1024*1024(B)=10485760 bytes -->    <bean id="multipartResolver"          class="org.springframework.web.multipart.commons.CommonsMultipartResolver">        <property name="defaultEncoding" value="UTF-8" />        <property name="maxUploadSize" value="10485760" />    </bean>    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;activemq-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->    <!-- 连接池  -->    <bean id="pooledConnectionFactory" class="org.apache.activemq.pool.PooledConnectionFactory" destroy-method="stop">        <property name="connectionFactory">            <bean class="org.apache.activemq.ActiveMQConnectionFactory">                <property name="brokerURL" value="tcp://localhost:61616" />            </bean>        </property>    </bean>    <!-- 连接工厂 -->    <bean id="activeMQConnectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory">        <property name="brokerURL" value="tcp://localhost:61616" />    </bean>    <!-- 配置消息目标 -->    <bean id="destination" class="org.apache.activemq.command.ActiveMQQueue">        <!-- 目标，在ActiveMQ管理员控制台创建 http://localhost:8161/admin/queues.jsp -->        <constructor-arg index="0" value="hoo.mq.queue" />    </bean>    <!-- 消息模板 -->    <bean id="jmsTemplate" class="org.springframework.jms.core.JmsTemplate">        <property name="connectionFactory" ref="activeMQConnectionFactory" />        <property name="defaultDestination" ref="destination" />        <property name="messageConverter">            <bean class="org.springframework.jms.support.converter.SimpleMessageConverter" />        </property>    </bean>    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;activemq-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->    <mvc:cors>        <mvc:mapping path="/**"/>    </mvc:cors></beans>